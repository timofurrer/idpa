\chapter{TOR - The Onion Routing}
Wenn man sich im Internet bewegt, ist man grundsätzlich immer eindeutig erkennbar. Die sogenannte IP-Adresse, eine Zahlenfolge mit Punkten in Blöcke aufgeteilt, repräsentiert den Menschen dahinter. Sie ist immer eindeutig und wird einem vom Provider (z.B. Swisscom) zugeteilt. Wenn man im Internet beispielsweise straffällig wird und die Behörden das mitbekommen, kann es sein, dass sie einem ganz leicht aufspüren. Sie brauchen dazu nur die IP-Adresse, die man vielleicht irgendwo hinterlassen hat. Mit dieser gehen sie dann zum Provider, der ihnen sehr wahrscheinlich die Personendaten rausgeben muss und schon hats einem erwischt. Ist man schuldig, ist dieses Vorgehen auch nicht weiter zu verurteilen, schliesslich ist es ja auch nicht das Ziel, dass das Internet offiziell rechtsfreier Raum wird. Was aber, wenn man nichts böses im Schilde führt, es aber trotzdem Parteien gibt (Geheimdienste, Werbeunternehmen, Privatpersonen, etc.), die einem über die IP-Adresse belauschen oder gar identifizieren, um dann was auch immer mit den gewonnenen Erkenntnissen anzustellen? Privatsphäre im Internet gibt es nicht standardmässig mitgeliefert, dazu muss man schon selbst etwas tun. Hier kommt TOR ins Spiel. Es gibt viele möglichkeiten, seine Spuren im Internet zu verwischen bzw. Gar nicht erst Spuren zu hinterlassen. Hier wollen wir uns aber auf TOR beschränken.

\section{Was ist TOR?}
Tor, ein Akronym für The Onion Routing, ist ein „Netzwerk“ welches geschaffen wurde, um Verbindungsdaten zu anonymisieren. Man kann es fürs stöbern im Internet, E-Mail, diverse Chats und anderes einsetzen. Die Nutzung ist frei und für jedermann möglich, es sein denn, der Staat schränkt diese ein, wie es beispielsweise in China der Fall ist. Die Entwicklungen an Tor begannen 2002 an der Cambridge Universität und dauern bis heute an. Global betrachtet, nutzt wohl nur ein kleiner Teil der Leute Tor, da es erstens nicht sehr bekannt ist und zweitens die Nutzung mit einem gewissen Mehraufwand verbunden ist, der zusätzliches technisches Know-How verlangt. Im Rahmen der Enthüllungen von Edward Snowden über die zweifelhaften Aktivitäten von Geheimdiensten weltweit, hat Tor aber an Bedeutung gewonnen. Die kritischen stimmen wurden jedoch ebenfalls lauter und das zu Recht.

\section{Der zweifelhafte Ruf von Tor}
Tor hat einen zweifelhaften Ruf, der einen potenziellen Nutzer mit dem Ziel, anonym zu surfen, zwiegespalten zurücklassen kann. Es ist bekannt, dass gerade im Tor-Netzwerk die Kinderpornographie verstärkt verbreitet werden konnte, da es einen gewissen Schutz der Nutzer bietet. Es gibt auch Gerüchte, dass im Tor-Netzwerk illegal Waffen und Drogen angeboten werden. Der negative Ruf von Tor nimmt die unterschiedlichsten Formen an und vieles davon kann durchaus wahr sein. Möchte man als gewissenhafter Nutzer tatsächlich mit solchen Machenschaften in Verbindung gebracht werden? Was zu dem Ganzen noch hinzukommt ist die fast schon ironische Finanzierung des Projektes. So wurde Tor und wird auch heute noch von militärischen Organisationen der USA sowie der US-amerikanischen Regierung  gestützt. Dies grenzt beinahe schon an Ironie, sind es doch die amerikanischen Geheimdienste, die das Internet im grössten Masse aushorchen. Die Frage, die sich dadurch stellt ist die: Kann man überhaupt noch auf die anonyme Funktionsweise von Tor vertrauen oder muss man davon ausgehen, dass amerikanische Geheimdienste das Netzwerk bewusst aufgebaut haben um jeden abzuhören, der offenbar etwas zu verstecken hat? Kürzlich ist bekannt geworden, dass die Bemühungen der NSA, Nutzer vom Tor-Netzwerk zu de-anonymisieren, sehr ineffizient und erfolglos sind. Ist Tor vielleicht doch nicht so schlecht?

\section{Die Funktionsweise}
Der Name The Onion Routing kommt nicht von ungefähr. Die verwendete Anonymisierungstechnik Onion-Routing lässt auf Grund ihrer Funktionsweise Vergleiche mit einer Zwiebel zu. Im folgenden soll die genaue Funktionsweise von Tor erklärt werden. Dazu müssen aber zuerst ein paar Begriffe genauer ausgeführt sein.
Client: Computerprogramm, das auf dem Rechner des Nutzers installiert und verwendet wird
Tor-Server: Rechner im Tor-Netz, dessen Aufgabe es ist, Daten zu empfangen und diese anschliessend an einen neuen Tor-Server weiterzuleiten
Entry-Guard: Der erste Tor-Server in der Kaskade, der die Daten direkt vom Nutzer bekommt und diesen somit noch kennt.
Exit-Node: Der letzte Tor-Server in der Kaskade, der als Endpunkt auftritt und die Daten an das gewünschte Ziel weiterleitet
\begin{enumerate}
\item Um Tor überhaupt nutzen zu können, muss als erstes der  Client (Onion-Proxy) installiert werden.
\item Der Client verbindet sich mit dem Tor-Netzwerk und lädt sich zuerst eine Liste mit allen nutzbaren Tor-Server herunter.
\item Ist die Liste komplett, wählt der Client eine zufällige Route über die Tor-Server.
\item Er baut nun eine verschlüsselte Verbindung mit dem ersten Tor-Server (Entry-Guard) der Route auf. Der Entry-Guard wählt nun seinerseits einen neuen zufälligen Tor-Server und schickt die Daten an diesen weiter.
\item Dieser tut genau das gleiche noch einmal, worauf die Daten schliesslich zum letzten Server (Exit-Node) kommen.
\item Der Exit-Node leitet die Daten nun zum gewünschten Ziel weiter. Das ist die einzige Strecke im ganzen Ablauf, auf der die Daten nicht mehr verschlüsselt weitergeleitet werden.
\end{enumerate}
Die Informationen werden im Laufe der Kaskade in mehrere Verschlüsselungsschichten verpackt, damit die passierten Tor-Server nicht sehen, können worum es sich handelt. Daher kommt auch der Name der Prozedur. Der finale Aufbau des Pakets gleicht einer Zwiebel mit mehreren Schichten, die  schlussendlich wieder entpackt werden müssen.
\\
Generell gilt, dass die Daten immer drei Tor-Server passieren. Da die Tor-Server jeweils nur die Rechner links und rechts von sich kennen, weiss nur der erste Tor-Server Bescheid über die Identität des Nutzers. Der dritte und letzte Tor-Server kennt dann nur noch den Tor-Server, der ihm die Daten weitergeleitet hat und das Ziel. Gefährlich wird es für den Nutzer dann, wenn jemand Eintritts- und Austrittsknoten kontrolliert. Die Anonymität wäre dann aufgehoben, da der „Lauscher“ Ursprung, Ziel und Inhalt der Daten kennt.
\\
Es gibt auch ein paar sonstige Regeln, die man beachten muss, möchte man anonym unterwegs sein:
Soziale Netzwerke vermeiden, da sie die Identität preisgeben
Web-Extensions wie Java-Script und Flash-Cookies vermeiden
Tor nur dann benutzen, wenn es auch wirklich Sinn macht
\\
Der letzte Punkt ist sehr wichtig, da die Anonymität durch Protokollierung gebrochen werden kann. Protokolliert ein Tor-Server genügend lang die passierenden Daten, kann nach durchschnittlich sechs Monaten die Identität aufgedeckt werden. Je öfter man den Dienst also braucht, desto mehr Informationen gibt man dem vermeintlichen Schnüffler. Die Zeit bis zum Aufdecken der Identität ist dabei starch von der Infrakstruktur abhängig. Staatliche behörden mit immensen Rechenzentren hätten folglich keine grossen Probleme damit, die Anonymität von vielen tausend Benutzern nach kurzer Zeit aufzuheben.
\\%https://de.wikipedia.org/wiki/Tor_\%28Netzwerk%29
\\https://de.wikipedia.org/wiki/Client
\\https://de.wikipedia.org/wiki/Onion-Routing
\\https://www.torproject.org/about/overview.html.en
\\%https://de.wikipedia.org/wiki/United_States_Naval_Research_Laboratory
\\http://www.heise.de/security/meldung/Neues-von-der-NSA-Tor-stinkt-1972983.html
